# Configuration for 3D toy molecular generative model training
# This uses synthetic 3D shapes with molecular features (positions + atom types)
# Same structure as QM9 for testing and quick validation

# Output directory
output_dir: data/toy_molecular_experiment

# WandB configuration
wandb:
  enabled: true
  project: molgen-bench
  entity: null
  name: toy_molecular_dit
  tags: [toy_molecular, flow_matching, dit]

# Data
data:
  dataset_type: toy_molecular
  shape_type: circle  # 2D: circle, star, grid | 3D: sphere, cube, spiral, cluster, tetrahedron | mixed
  num_samples: 2000
  num_atoms_range: [10, 30]  # min and max atoms per molecule
  noise: 0.02
  scale: 1.0
  batch_size: 32
  num_workers: 2

# Model
architecture:
  type: dit
  hidden_dim: 256
  num_layers: 6
  num_heads: 8
  mlp_ratio: 4.0
  dropout: 0.0
  max_atoms: 256
  use_checkpoint: false

generative:
  type: flow_matching
  time_steps: 100
  sigma_min: 0.001
  sigma_max: 1.0
  schedule: cosine
  loss_type: mse

# Training
training:
  epochs: 100
  learning_rate: 0.0003
  weight_decay: 0.00001
  gradient_clip: 1.0
  warmup_steps: 500

  # EMA settings
  ema_decay: 0.999
  use_ema: true

  log_interval: 10
  visualize_every: 10  # Visualize every N epochs

# Hardware
device: cuda
mixed_precision: false
