# Full configuration for QM9 training

# Output directory
output_dir: data/qm9_flowmatching

# WandB configuration
wandb:
  enabled: true
  project: molgen-bench
  entity: null
  name: qm9_flowmatching_dit
  tags: [qm9, flow_matching, dit]

# Data
data:
  dataset_type: qm9
  data_dir: ./data/downloaded/qm9
  batch_size: 64
  num_workers: 4

# Model
architecture:
  type: dit
  hidden_dim: 256
  num_layers: 6
  num_heads: 8
  mlp_ratio: 4.0
  dropout: 0.0
  max_atoms: 64

generative:
  type: flow_matching
  time_steps: 1000
  sigma_min: 0.001
  sigma_max: 1.0
  schedule: cosine
  loss_type: mse

# Training
training:
  epochs: 100
  learning_rate: 0.0003
  weight_decay: 0.00001
  gradient_clip: 1.0
  warmup_steps: 1000

  # EMA settings
  ema_decay: 0.9999
  use_ema: true

  # Evaluation settings
  eval_every: 10        # Evaluate generation every N epochs
  eval_samples: 100     # Number of molecules to generate for evaluation
  eval_steps: 100       # ODE integration steps for generation

  log_interval: 100

# Hardware
device: cuda
mixed_precision: false
